<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    {% load static %}
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.ico' %}"/>

    {% load static %}
    <link rel="stylesheet" href="{% static 'base.css' %}" />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css"
      integrity="sha384-DhY6onE6f3zzKbjUPRc2hOzGAdEf4/Dz+WJwBvEYL/lkkIsI3ihufq9hk9K4lVoK"
      crossorigin="anonymous"
    />

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <title>Aniweebos</title>
  </head>
  <body>
    <style>
      html {
        scroll-behavior: smooth;
      }
      body {
        background: black;
      }
      body::-webkit-scrollbar {
        width: 0.25rem;
      }

      body::-webkit-scrollbar-track {
        background: #1e1e24;
      }

      body::-webkit-scrollbar-thumb {
        background: #6649b8;
      }
      nav {
        background-color: #202040;
      }

      .navbar-toggler-icon {
        background-color: #aaccff;
        border-radius: 8px;
      }
    </style>
    {% comment %} NavBar {% endcomment %}
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Navbar</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon">
            <svg
              width="1em"
              height="1em"
              viewBox="0 0 16 16"
              class="bi bi-menu-up"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M15 3.207v9a1 1 0 0 1-1 1h-3.586A2 2 0 0 0 9 13.793l-1 1-1-1a2 2 0 0 0-1.414-.586H2a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zm-13 11a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-3.586a1 1 0 0 0-.707.293l-1.353 1.354a.5.5 0 0 1-.708 0L6.293 14.5a1 1 0 0 0-.707-.293H2z"
              />
              <path
                fill-rule="evenodd"
                d="M15 5.207H1v1h14v-1zm0 4H1v1h14v-1zm-13-5.5a.5.5 0 0 0 .5.5h6a.5.5 0 1 0 0-1h-6a.5.5 0 0 0-.5.5zm0 4a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11a.5.5 0 0 0-.5.5zm0 4a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 0-1h-8a.5.5 0 0 0-.5.5z"
              /></svg
          ></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
            <form class="navbar-search" method="GET" action="/search">
              <input
                class="search-bar"
                id="searchInput"
                type="search"
                name="q"
                placeholder="Search"
                aria-label="Search"
              />
            </form>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="{% url 'post_list'%}"
                ><svg
                  width="1.5em"
                  height="1.5em"
                  viewBox="0 0 16 16"
                  class="bi bi-house-door-fill"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.5 10.995V14.5a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5V11c0-.25-.25-.5-.5-.5H7c-.25 0-.5.25-.5.495z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"
                  /></svg
              ></a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                {{ request.path }}
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="{% url 'post_new'%}">Create Post</a>
                <a class="dropdown-item" href="">Create tribe</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>

            {% if user.is_authenticated %}

            <li class="nav-item" style="float: right">
              <a class="nav-link" href="{% url 'logout'%}">Logout</a>
            </li>
            {% else %}
            <li class="nav-item" style="float: right">
              <a class="nav-link" href="{% url 'signin'%}">Signin</a>
            </li>
            <li class="nav-item" style="float: right">
              <a class="nav-link" href="{% url 'signup'%}">Signup</a>
            </li>

            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    <br>

    {% for message in messages %}
    <div
      class="alert alert-warning alert-dismissible fade show"
      role="alert"
      style="background-color: inherit"
    >
      <strong>{{message}}</strong>

      <button
        type="button"
        class="btn-close"
        data-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %} 
    <br>
    {% block body %} {% endblock body %}

    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.bundle.min.js"
      integrity="sha384-BOsAfwzjNJHrJ8cZidOg56tcQWfp6y72vEJ8xQ9w6Quywb24iOsW913URv1IS4GD"
      crossorigin="anonymous"
    ></script>
  </body>
  <script>
    var input = document.getElementById("usermsg");
    input.addEventListener("keyup", function (event) {

      if (event.keyCode === 13) {

        event.preventDefault();

        document.getElementById("searchInput").click();
      }
    });
  </script>
</html>
